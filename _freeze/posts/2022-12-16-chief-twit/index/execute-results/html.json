{
  "hash": "bf22ae20e3fb57dc44bad70b3c4a3531",
  "result": {
    "markdown": "---\ntitle: Chief Twit\ndate: '2022-12-16'\ncategories: [rstats]\ndescription: \"A causal look at how Musk's twitter ownership has affected Tesla stock\"\nimage: featured.png\ncode-fold: show\n---\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nggplot2::theme_set(\n  ggplot2::theme_minimal(base_family = \"Roboto Slab\",\n                         base_size = 14) +\n    ggplot2::theme(plot.title.position = \"plot\",\n                   plot.background = ggplot2::element_rect(fill = \"white\", color = \"white\"),\n                   plot.title = ggtext::element_markdown(),\n                   plot.subtitle = ggtext::element_markdown(),\n                   plot.caption = ggtext::element_markdown(color = \"gray40\"))\n)\n```\n:::\n\n\nUmm... twitter is a weird place right now. Since [Elon Musk's $44 billion deal to take over twitter closed in late October](https://www.nytimes.com/2022/10/27/technology/elon-musk-twitter-deal-complete.html), there have been [mass layoffs](https://www.nytimes.com/2022/11/03/technology/twitter-layoffs-elon-musk.html), a [floodgate of advertisers leaving the platform](https://www.washingtonpost.com/technology/2022/11/22/twitter-advertiser-exodus-musk/), and a [near-daily deluge of disasters](https://www.platformer.news/p/inside-the-twitter-meltdown) (for in depth coverage, I recommend visiting [Platformer](https://www.platformer.news/)). It feels like the ship is going down, but it's been pretty funny to watch everything unfold.\n\n\n{{< tweet callmekitto 1589407148462964736 >}}\n\n\n\nFolks who are invested in Tesla may find the situation somewhat less humorous --- Tesla's stock price has dropped 18% over the past month. That's a lot to lose, but can it really be causally linked to Musk's antics on twitter?\n\nAs it turns out, yes, it can. Following the approach taken by [Alex Hayes](https://www.alexpghayes.com/post/2020-05-01_elon-musk-send-tweet/) and [Fabian Dablander](https://fabiandablander.com/r/Causal-Doge.html), we can use the [`{CausalImpact}`](https://google.github.io/CausalImpact/CausalImpact.html) package to compare Tesla's stock price pre/post Musk's takeover of twitter, using the S&P500 as a synthetic control.  \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(riingo)\nlibrary(CausalImpact)\n\n# pull in stock from tiingo\nstonks <- \n  bind_rows(\n    riingo_prices(\"TSLA\"), \n    riingo_prices(\"SPY\")\n  )\n\n# adjust for tesla 3-1 stock split in aug\nstonks <- \n  stonks %>%\n  select(ticker, date, close) %>%\n  mutate(close = if_else(date < lubridate::mdy(\"8/25/22\") & ticker == \"TSLA\",\n                         close/3,\n                         close))\n```\n:::\n\n\nLooking at the two tickers side by side, Tesla seems to follow the index's movement until the takeover.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstonks %>% \n  mutate(date = lubridate::as_date(date)) %>%\n  ggplot(aes(x = date,\n             y = close,\n             color = ticker)) + \n  geom_line(linewidth = 1) + \n  scale_color_brewer(palette = \"Dark2\") + \n  facet_wrap(~ticker, \n             scales = \"free_y\",\n             ncol = 1) +\n  geom_vline(xintercept = lubridate::mdy(\"10/27/22\"),\n             linetype = \"dashed\") +\n  scale_x_date(labels = scales::label_date(format = \"%b\")) +\n  scale_y_continuous(labels = scales::dollar_format()) +\n  theme(legend.position = \"none\") +\n  labs(title = \"STONKS: Tesla's and S&P500's daily close over the past year\",\n       x = NULL,\n       y = NULL,\n       caption = \"Data from Dec 16, '21 -- Dec 16, '22\")\n```\n:::\n\n\n![](stonks1.png)\n\nPlugging this in blindly to `CausalImpact()` shows that Musk's twitter antics have had an effect on Tesla's price. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nstonks <- \n  stonks %>%\n  pivot_wider(names_from = ticker,\n              values_from = close)\n\nfit <- \n  CausalImpact(\n    zoo(cbind(stonks$TSLA, stonks$SPY), stonks$date), \n    stonks$date[c(1, 217)],  # 12/16/21 - 10/26/22\n    stonks$date[c(218, 253)] # 10/27/22 - 12/16/22\n  )\n\nfit %>% plot()\n```\n:::\n\n\n![](stonks2.png)\n\nPrior to Musk's twitter takeover, Tesla's shares could be reliably estimated by the S&P500. After the takeover, however, Tesla's share price has fallen outside of what the model would expect based on S&P500 data. The implied cost to Tesla shareholders is about **\\$77 per share** on average, though the credible interval could put the true cost anywhere between **\\$17 and \\$133 per share**. \n\nThis makes pretty strong assumptions --- that Musk's antics don't affect S&P500 prices and that no other event is influencing Tesla's price but not the S&P500 price. There's lot's more worth digging into in the paper ([Brodersen, 2015](https://projecteuclid.org/journals/annals-of-applied-statistics/volume-9/issue-1/Inferring-causal-impact-using-Bayesian-structural-time-series-models/10.1214/14-AOAS788.full)) that `{CausalImpact}` accompanies. Since this was mostly a quick exploration on a Friday afternoon, however, I'll leave the additional investigating to the reader. For me, it's back to watching the site crash and burn. \n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}