---
title: 'The Data Diary: Year in Review'
author: ''
date: '2022-01-12'
slug: []
categories: [personal]
tags: []
subtitle: 'A look back at 2021'
summary: ''
authors: []
lastmod: '2022-01-12T08:16:35-06:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<p>In the year since I started this blog, there’s been a lot that’s happened: I learned to use R, picked up the basics of machine learning, and moved into a new job/industry. I spend a lot of time thinking about what’s coming down the pipeline and how much further I have to go on projects that I have planned, but it’s worthwhile every now and then to take a look back and see just how far I’ve come.</p>
<div id="some-accomplishments-im-proud-of" class="section level2">
<h2>Some accomplishments I’m proud of</h2>
<div id="learning-r" class="section level3">
<h3>Learning R</h3>
<p>A year ago, I couldn’t write a lick of R code — I lived and breathed Excel, and was a bit afraid of the transition from a GUI to an IDE. Now, I’d consider myself pretty well-versed in the language and am <em>so glad</em> I made the switch. Having moved to R, I realized how restrictive Excel was — R (or any other analytics-focused programming language) allows for the freedom of expression needed for any sort of serious analysis. <a href="https://www.youtube.com/watch?v=PURtmHwk_-0">This talk by Hadley Wickham</a> was instrumental in pushing me to pick up R and is well worth a watch if you have the time.</p>
<p>{{% youtube "PURtmHwk_-0" %}}</p>
</div>
<div id="completing-stanfords-machine-learning-course" class="section level3">
<h3>Completing Stanford’s Machine Learning course</h3>
<p>When I started learning R, I was most interested in getting to the point where I’d be able to implement machine learning models (this specifically came from reading <a href="https://projects.economist.com/us-2020-forecast/president/how-this-works">the documentation</a> for <a href="https://github.com/TheEconomist/us-potus-model">The Economist’s POTUS model</a> and wanting to understand what was going on under-the-hood). <a href="https://www.coursera.org/learn/machine-learning?">Stanford’s online Machine Learning course</a> was a thorough, technical introduction to the basics of machine learning. It doesn’t cover every model type, but gives a great foundation for <em>how to understand</em> new models by requiring that you write the models yourself (this was very useful and practical, but you won’t catch me using MATLAB anytime soon!).</p>
<p><img src="pics/coursera_ml_cert.png" /></p>
</div>
<div id="committing-to-ropensci" class="section level3">
<h3>Committing to rOpenSci</h3>
<p><a href="https://ropensci.org/">rOpenSci</a> is a non-profit initiative committed to creating and maintaining a variety of open-source R packages. For work, I use one of their packages, <a href="https://docs.ropensci.org/qualtRics/">the qualtRics package</a>, almost daily for extracting survey responses from Qualtrics’ API. I added a small function, <a href="https://docs.ropensci.org/qualtRics/reference/fetch_id.html"><code>fetch_id()</code></a>, that allows you to pull in survey responses based on the survey’s name, rather than looking up the miscellaneous string of numbers that constitute the <code>survey_id</code>. It’s a small helper function, but working on it taught me a lot about documentation, testing, package development, and contributing to open-source software.</p>
<pre class="r"><code>library(dplyr)
library(qualtRics)

all_surveys() %&gt;% 
  fetch_id(&quot;Mark&#39;s Example Survey&quot;) %&gt;%
  fetch_survey() %&gt;%
  knitr::kable()</code></pre>
<pre><code>## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |======================================================================| 100%</code></pre>
<table style="width:100%;">
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="5%" />
<col width="3%" />
<col width="3%" />
<col width="7%" />
<col width="3%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="5%" />
<col width="6%" />
<col width="5%" />
<col width="6%" />
<col width="6%" />
<col width="4%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">StartDate</th>
<th align="left">EndDate</th>
<th align="left">Status</th>
<th align="left">IPAddress</th>
<th align="right">Progress</th>
<th align="right">Duration (in seconds)</th>
<th align="left">Finished</th>
<th align="left">RecordedDate</th>
<th align="left">ResponseId</th>
<th align="left">RecipientLastName</th>
<th align="left">RecipientFirstName</th>
<th align="left">RecipientEmail</th>
<th align="left">ExternalReference</th>
<th align="right">LocationLatitude</th>
<th align="right">LocationLongitude</th>
<th align="left">DistributionChannel</th>
<th align="left">UserLanguage</th>
<th align="left">Q1</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2022-01-12 15:20:31</td>
<td align="left">2022-01-12 15:20:38</td>
<td align="left">Survey Preview</td>
<td align="left">NA</td>
<td align="right">100</td>
<td align="right">7</td>
<td align="left">TRUE</td>
<td align="left">2022-01-12 15:20:40</td>
<td align="left">R_XFVjzAh4MalrLmF</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">29.73351</td>
<td align="right">-95.5564</td>
<td align="left">preview</td>
<td align="left">EN</td>
<td align="left">Strongly agree</td>
</tr>
</tbody>
</table>
</div>
<div id="putting-together-a-developer-package" class="section level3">
<h3>Putting together a developer package</h3>
<p>At some point this past year, I found myself either re-writing the same chunks of code repeatedly or re-defining functions across every project. After a lengthy period of hesitation, I finally picked up the <a href="https://r-pkgs.org/">R Packages</a> book by Hadley Wickham and Jenny Bryan and put together my own personal package, <a href="https://github.com/markjrieke/riekelib"><code>{riekelib}</code></a>. It’s just a collection of small helper functions that I use regularly for both personal and professional projects, but it’s really helped speed up workflows, since I can just load the library rather than re-write code or functions! Here are a few examples:</p>
<pre class="r"><code>library(riekelib)

# beta_interval() gives lower &amp; upper bounds of a beta distribution&#39;s confidence interval 
tibble::tibble(alpha = c(85, 100),
               beta = c(15, 500)) %&gt;%
  beta_interval(alpha, beta) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">alpha</th>
<th align="right">beta</th>
<th align="right">ci_lower</th>
<th align="right">ci_upper</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">85</td>
<td align="right">15</td>
<td align="right">0.7741265</td>
<td align="right">0.9126452</td>
</tr>
<tr class="even">
<td align="right">100</td>
<td align="right">500</td>
<td align="right">0.1379480</td>
<td align="right">0.1974895</td>
</tr>
</tbody>
</table>
<pre class="r"><code># percent() returns the percentage each value or combination of values appear in a tibble
iris %&gt;%
  tibble::as_tibble() %&gt;%
  percent(Species) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Species</th>
<th align="right">pct</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">setosa</td>
<td align="right">0.3333333</td>
</tr>
<tr class="even">
<td align="left">versicolor</td>
<td align="right">0.3333333</td>
</tr>
<tr class="odd">
<td align="left">virginica</td>
<td align="right">0.3333333</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="plots-across-the-year" class="section level2">
<h2>Plots across the year</h2>
<p>Possibly the most visually-engaging way to track growth throughout the past year is to look back on how different plots have evolved. Here’s a walkthrough of some choice plots that I’ve made throughout the year.</p>
<div id="baby-steps" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-01-10-baby-steps/">Baby Steps</a></h3>
<p>The first plot I ever created in R, made with base R’s <code>plot()</code> function, compares speed &amp; distance from the <code>cars</code> dataset. There’s not really anything visually compelling here, but it gives the starting point.</p>
<p><img src="pics/baby_steps.png" /></p>
</div>
<div id="r-ggplot2-and-plotly" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-01-17-r-ggplot2-plotly/">R, ggplot2, and plotly</a></h3>
<p>This next plot shows my first attempt at creating a <code>ggplot</code>. I remember struggling <em>a lot</em> with this when trying to learn the ins and outs of putting together and formatting the plot, but that struggle was well worth it. I learned not only the basics of how to put together a plot with <code>ggplot</code>, but also, more importantly, how to search and troubleshoot issues. I also like that I was able to explore a topic visually with this plot: while the winner of the presidential election overperforms in the electoral college relative to the popular vote, republican candidates consistently have a slightly stronger electoral college overperformance due to small-state bias.</p>
<p><img src="pics/r_ggplot2_plotly.png" /></p>
</div>
<div id="kind-of-projecting-the-2020-election" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-02-21-kind-of-projecting-the-2020-election/">(Kind of) Projecting the 2020 Election</a></h3>
<p>I started playing around with custom themes, and even setup my own <a href="https://github.com/markjrieke/thedatadiary/blob/main/dd_theme_elements/dd_theme_elements.R">theme elements</a> so that I could reference them easily. This was the first time I broke away from the default theme for <code>ggplot</code>. Additionally, this was the first time I used any sort of statistical methods to make a projection. The projection itself is pretty bad/underconfident, but the methodology was sound.</p>
<p><img src="pics/projecting_2020_election.png" /></p>
</div>
<div id="doug-collins-saved-raphael-warnocks-senate-bid" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-02-28-doug-collins-saved-raphael-warnock-s-senate-bid/">Doug Collins Saved Raphael Warnock’s Senate Bid</a></h3>
<p>Of all the posts I wrote in 2021, this may be the one I’m most proud of. Firstly, I learned a lot of new techniques needed to create maps and animations in R, but I also made a data-backed point: Raphael Warnock, one of the current Democratic senators from Georgia, likely won his election because Republican voters split their ticket between Kelly Loeffler and Doug Collins.</p>
<p><img src="pics/ga_sen_01.png" />
<img src="pics/ga_sen_02.png" />
<img src="pics/ga_sen_03.gif" /></p>
</div>
<div id="artwork" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-03-07-artwork/">aRtwork!</a></h3>
<p>This next one is just fun, but I used R to make some artwork! I liked it so much, that I ended up making this my site header.</p>
<p><img src="pics/artwork.png" /></p>
</div>
<div id="tidymodels-and-the-titanic" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-08-08-tidymodels-and-the-titanic/">Tidymodels and the Titanic</a></h3>
<p>I spent a lot of time this past year learning how to implement machine learning methods, but eventually got to the point where I feel confident building and troubleshooting models with the tidymodel framework. I had an “aha” moment when working on a classifier for everyone’s favorite dataset, the <a href="https://www.kaggle.com/c/titanic">Titanic survival dataset</a>, and everything <em>finally</em> clicked. The model wasn’t great, but being able to quickly build and iterate was game-changing.</p>
<p><img src="pics/titanic.png" /></p>
</div>
<div id="diamonds-are-forever-feature-engineering-with-the-diamonds-dataset" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-11-14-diamonds-are-forever-feature-engineering-with-the-diamonds-dataset/">Diamonds are Forever: Feature Engineering with the Diamonds Dataset</a></h3>
<p>With some machine learning under my belt, I spent some time practicing feature engineering with the <a href="https://ggplot2.tidyverse.org/reference/diamonds.html">diamonds dataset</a>. From the variable importance plot, I found that some of the engineered features were among the most important for predicting a diamond’s price!</p>
<p><img src="pics/diamonds_01.png" />
<img src="pics/diamonds_02.png" /></p>
</div>
<div id="do-voters-want-democrats-or-republicans-in-congress" class="section level3">
<h3><a href="https://www.thedatadiary.net/blog/2021-12-14-do-voters-want-democrats-or-republicans-in-congress/">Do Voters Want Democrats or Republicans in Congress?</a></h3>
<p>Most recently, I created a <a href="https://github.com/markjrieke/2022-midterm-forecasts/blob/main/scripts/generic_ballot_weighting.R">congressional ballot aggregator</a> that weights polls by pollster, recency, sample size, and methodology. This was a huge effort to create a custom regression methodology, and I’m very happy with how it turned out! As of today, voters are just about even-split between Democrats and Republicans in the upcoming 2022 midterms.</p>
<p><img src="pics/generic_ballot.png" /></p>
</div>
</div>
<div id="plans-for-2022" class="section level2">
<h2>Plans for 2022</h2>
<p>I think I’ve come a long way in 2021 and I hope that in 2023, I can look back on 2022 and see a similar level of growth throughout the year. Here are a few things I plan on working on this year:</p>
<ul>
<li><strong>Writing</strong>: I’ve spent a lot of time in 2021 working on technical skills, but haven’t really taken time to work on my writing. This will be an important focus for me in 2022, since technical information is useless if I’m not able to communicate it well.</li>
<li><strong>Bringing ML projects to the office</strong>: In my current job, we’ve been spending the majority of the last six months focusing on troubleshooting the errors and getting over the speed-bumps involved with changing our primary survey vendor. We haven’t had the bandwidth to work on higher level/higher value projects, but should be able to do so in the upcoming year. Some projects I’m excited to work on this year include:
<ul>
<li>Variable importance in predicting positive sentiment in surveys;</li>
<li>Patient segmentation with k-means clustering;</li>
<li>Shiny App - “How confident am I?” - for educating our non-technical counterparts on confidence intervals vs. point estimates;</li>
<li>Using NLP for predicting positive sentiment from patient comments;</li>
<li>Topic modeling from comments for easier comment segmentation.</li>
</ul></li>
<li><strong>Natural Language Processing</strong>: As alluded to above, I’d like to work with text data for predictive analysis this year — there’s a lot of valuable insight that can be drawn from text data once I understand how to extract it!</li>
<li><strong>Enrolling in a Master’s of D.S. program</strong>: While I’ve been able to pick up a lot of knowledge from free/low-cost resources online (as well as spending countless hours on StackOverflow), I believe it’s time to further my formal education by pursuing a Master’s of Data Science part-time. Enrolling in a master’s program should help improve both my technical and non-technical skills, as well as formalize my transition from engineering to data science with a degree.</li>
<li><strong>Forecasting the 2022 Midterms</strong>: A long-term goal since starting this blog was to learn how to and ultimately deploy a forecast model for the 2022 midterms. I believe I’m well on my way, and hope to be able to publish midterm forecast models for the House, Senate, and Gubernatorial races sometime in the summer this year.</li>
</ul>
<p>All-in-all, I’ve got a lot on my plate for 2022, but I’m confident that I’ll be able to tackle the challenges that come my way this year! My schedule is in a good place — full but manageable. As a preview of the next post I have scheduled, here’s a model I built to estimate Biden’s approval:</p>
<p><img src="pics/biden_01.png" />
<img src="pics/biden_02.png" /></p>
</div>
