---
title: 'Diamonds are Forever: Feature Engineering with the Diamonds Dataset'
author: ''
date: '2021-11-14'
slug: []
categories: [tidymodels]
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: '2021-11-14T14:50:06-06:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, warning = FALSE,
                      message = FALSE, dpi = 300, fig.width = 8, fig.height = 5)
```

Are y'all ready for some charts?? This week, I did a bit of machine learning practice with the [`diamonds dataset`](https://ggplot2.tidyverse.org/reference/diamonds.html). This dataset is interesting and good for practice for a few reasons:

* there are lots of observations (50,000+);
* it includes a mix of numeric and categorical variables;
* there are some data oddities to deal with (log scales, interactions, non-linear relations)

I'll be doing a bit of feature engineering prior to fitting an tuning a linear model that predicts the each diamond's `price` with the [`glmnet`](https://glmnet.stanford.edu/index.html) package. This will give a good end-to-end glimpse into the data exploration and model fitting process! Before we get into that, let's load some packages and get a preview of the dataset.

```{r}
library(tidyverse)
library(tidymodels)
library(vip)

theme_set(theme_minimal())

diamonds %>%
  slice_head(n = 10)
```

Since we're predicting price, let's look at its distribution first.

```{r}
diamonds %>%
  ggplot(aes(x = price)) +
  geom_histogram()
```

We're definitely gonna want to apply a transformation to the price when modeling - let's look at the distribution on a log-10 scale.

