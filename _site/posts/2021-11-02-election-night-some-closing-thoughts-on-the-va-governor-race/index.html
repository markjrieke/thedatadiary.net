<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mark Rieke">
<meta name="dcterms.date" content="2021-11-02">

<title>the data diary - Election Night: Some Closing Thoughts on the VA Governor Race</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//static/img/icon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../static/img/icon.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">the data diary</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-midterms" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">2022 Midterms</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-midterms">    
        <li class="dropdown-header">Senate</li>
        <li class="dropdown-header">House</li>
        <li class="dropdown-header">Governor</li>
    </ul>
  </li>
  <li class="dropdown-header">
 <span class="menu-text">Blog</span></li>
  <li class="dropdown-header">
 <span class="menu-text">About</span></li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Election Night: Some Closing Thoughts on the VA Governor Race</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">politics</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Mark Rieke </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 2, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#some-closing-thoughts" id="toc-some-closing-thoughts" class="nav-link active" data-scroll-target="#some-closing-thoughts">Some closing thoughts</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/markjrieke/thedatadiary.net/blob/main/posts/2021-11-02-election-night-some-closing-thoughts-on-the-va-governor-race/index.qmd" class="toc-action">View source</a></p><p><a href="https://github.com/markjrieke/thedatadiary.net/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>A few weeks ago I had <a href="https://www.thedatadiary.net/blog/2021-10-19-polling-average-of-the-va-governor-s-race-using-purrr-map-functions/">written about the VA Governor’s race</a> before going on vacation - in that time it seems as though Terry McAuliffe’s campaign had lost a lot of steam and Youngkin made up a lot of ground in the final weeks of the campaign. At the time of this writing, it seems overwhelmingly likely that Glenn Youngkin will become the next governor of Virginia. To avoid some of the <a href="https://twitter.com/rp_griffin/status/1455696452915802122">galaxy-brain takes that will inevitabely wind up twitter</a>, I thought I’d distract myself by following up on my previous post.</p>
<p>Firstly, I should share the updated polling average. A few weeks ago, McAullife appeared to have a sizeable lead in the polls:</p>
<p></p><div id="tweet-25877"></div><script>tweet={"url":"https:\/\/twitter.com\/markjrieke\/status\/1444454926399254535","author_name":"Mark Rieke","author_url":"https:\/\/twitter.com\/markjrieke","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EFiveThirtyEight&#39;s poll tracker for the VA governor race (\u003Ca href=\"https:\/\/t.co\/HKVw7RcsJN\"\u003Ehttps:\/\/t.co\/HKVw7RcsJN\u003C\/a\u003E) shows the moving averages - as a weekend coding project, I revamped with a weighted avg., 95% CI, and win probability based on an election day distribution\uD83D\uDCC8 \u003Ca href=\"https:\/\/t.co\/hM6vzLUZnM\"\u003Epic.twitter.com\/hM6vzLUZnM\u003C\/a\u003E\u003C\/p\u003E&mdash; Mark Rieke (@markjrieke) \u003Ca href=\"https:\/\/twitter.com\/markjrieke\/status\/1444454926399254535?ref_src=twsrc%5Etfw\"\u003EOctober 3, 2021\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-25877").innerHTML = tweet["html"];</script><p></p>
<p>However, as of election day, the race had significantly tightened to effectively a coin-toss:</p>
<p></p><div id="tweet-46263"></div><script>tweet={"url":"https:\/\/twitter.com\/markjrieke\/status\/1455164731749175304","author_name":"Mark Rieke","author_url":"https:\/\/twitter.com\/markjrieke","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EFinal update - p_win ~ 55% McAuliffe; again, the win probability is just the portion of the polling avg. distribution above 50% for each candidate. For *actual* models, go check out the work by \u003Ca href=\"https:\/\/twitter.com\/lxeagle17?ref_src=twsrc%5Etfw\"\u003E@lxeagle17\u003C\/a\u003E\/\u003Ca href=\"https:\/\/twitter.com\/Thorongil16?ref_src=twsrc%5Etfw\"\u003E@Thorongil16\u003C\/a\u003E or \u003Ca href=\"https:\/\/twitter.com\/jhkersting?ref_src=twsrc%5Etfw\"\u003E@jhkersting\u003C\/a\u003E, among others \u003Ca href=\"https:\/\/t.co\/W9bDf1OumZ\"\u003Epic.twitter.com\/W9bDf1OumZ\u003C\/a\u003E\u003C\/p\u003E&mdash; Mark Rieke (@markjrieke) \u003Ca href=\"https:\/\/twitter.com\/markjrieke\/status\/1455164731749175304?ref_src=twsrc%5Etfw\"\u003ENovember 1, 2021\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-46263").innerHTML = tweet["html"];</script><p></p>
<p>As I mention in the above tweet, the win probability isn’t a true forecast, just the portion of each candidate’s election day distribution <em>above 50%</em>. That being said, actual forecasts similarly had the race down to a near 50-50 split as of this morning:</p>
<p></p><div id="tweet-44175"></div><script>tweet={"url":"https:\/\/twitter.com\/gelliottmorris\/status\/1454130028149620737","author_name":"G. Elliott Morris","author_url":"https:\/\/twitter.com\/gelliottmorris","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003ESpecial for Twitter: Updated VA polling trends with the new Fox and Post\/GMU polls \u003Ca href=\"https:\/\/t.co\/hLNa3pFCpR\"\u003Ehttps:\/\/t.co\/hLNa3pFCpR\u003C\/a\u003E \u003Ca href=\"https:\/\/t.co\/6cz0JXa0xm\"\u003Epic.twitter.com\/6cz0JXa0xm\u003C\/a\u003E\u003C\/p\u003E&mdash; G. Elliott Morris (@gelliottmorris) \u003Ca href=\"https:\/\/twitter.com\/gelliottmorris\/status\/1454130028149620737?ref_src=twsrc%5Etfw\"\u003EOctober 29, 2021\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-44175").innerHTML = tweet["html"];</script><p></p>
<p></p><div id="tweet-50356"></div><script>tweet={"url":"https:\/\/twitter.com\/jhkersting\/status\/1455545666999042056","author_name":"Jack Kersting","author_url":"https:\/\/twitter.com\/jhkersting","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003E\u003Ca href=\"https:\/\/twitter.com\/hashtag\/FINAL?src=hash&amp;ref_src=twsrc%5Etfw\"\u003E#FINAL\u003C\/a\u003E Virginia Gov. Projection.\u003Ca href=\"https:\/\/twitter.com\/GlennYoungkin?ref_src=twsrc%5Etfw\"\u003E@GlennYoungkin\u003C\/a\u003E is ever so slightly favored in this tossup for the governorship.\u003Cbr\u003E\u003Cbr\u003EFull Projection&gt;&gt;\u003Ca href=\"https:\/\/t.co\/PcM2qSjUYK\"\u003Ehttps:\/\/t.co\/PcM2qSjUYK\u003C\/a\u003E \u003Ca href=\"https:\/\/t.co\/NGCirjkkG4\"\u003Epic.twitter.com\/NGCirjkkG4\u003C\/a\u003E\u003C\/p\u003E&mdash; Jack Kersting (@jhkersting) \u003Ca href=\"https:\/\/twitter.com\/jhkersting\/status\/1455545666999042056?ref_src=twsrc%5Etfw\"\u003ENovember 2, 2021\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-50356").innerHTML = tweet["html"];</script><p></p>
<p>Even the model most confident in McAuliffe built by <a href="https://twitter.com/lxeagle17">Lakshya Jain</a> and <a href="https://twitter.com/Thorongil16">Thorongil</a> had dropped McAuliffe’s win probability from ~85% to 67% over the course of a few weeks:</p>
<p></p><div id="tweet-15485"></div><script>tweet={"url":"https:\/\/twitter.com\/lxeagle17\/status\/1455544487149592576","author_name":"Lakshya Jain","author_url":"https:\/\/twitter.com\/lxeagle17","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003E\uD83D\uDEA8FINAL \u003Ca href=\"https:\/\/twitter.com\/hashtag\/VAGov?src=hash&amp;ref_src=twsrc%5Etfw\"\u003E#VAGov\u003C\/a\u003E FORECAST\uD83D\uDEA8\u003Cbr\u003E\u003Cbr\u003EAt the end of a long campaign, here&#39;s where the model made by me and \u003Ca href=\"https:\/\/twitter.com\/Thorongil16?ref_src=twsrc%5Etfw\"\u003E@Thorongil16\u003C\/a\u003E stands. The race is rated as Lean Democratic, with a forecasted margin of D+3.6 and a win probability of 67%. An interactive map is over at \u003Ca href=\"https:\/\/t.co\/Kmvj6sRElC\"\u003Ehttps:\/\/t.co\/Kmvj6sRElC\u003C\/a\u003E. \u003Ca href=\"https:\/\/t.co\/kuaJc82HML\"\u003Epic.twitter.com\/kuaJc82HML\u003C\/a\u003E\u003C\/p\u003E&mdash; Lakshya Jain (@lxeagle17) \u003Ca href=\"https:\/\/twitter.com\/lxeagle17\/status\/1455544487149592576?ref_src=twsrc%5Etfw\"\u003ENovember 2, 2021\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-15485").innerHTML = tweet["html"];</script><p></p>
<p>While I definitely plan on utilizing a more scientific poll-weighting methodology in the future, I do find it interesting that even a simple averaging method can produce relatively accurate results in line with the majority of other forecasters.</p>
<p>Regarding post-hoc analysis of <em>why</em> McAuliffe lost, I won’t dredge up any of my own (partially because it’d be irresponsible &amp; pundit-y to do so without referencing any data and partially because it’s getting late &amp; I’m a bit tired), but I’ll point out a few tweets from <a href="https://twitter.com/Nate_Cohn">Nate Cohn</a> that show that the results appear to show a near uniform shift across precincts and different voting groups. This would suggest that McAuliffe’s loss is tied more closely to the national environment, rather than shifts amongst specific groups/counties.</p>
<p></p><div id="tweet-83781"></div><script>tweet={"url":"https:\/\/twitter.com\/Nate_Cohn\/status\/1455693099062153217","author_name":"Nate Cohn","author_url":"https:\/\/twitter.com\/Nate_Cohn","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EUpdate at nearly 1500 precincts: Youngkin is still on track for victory, running a ahead of what he needs across basically every dimension worth looking at.\u003Cbr\u003EBut it&#39;s worth noting just how close things are to &#39;expectations,&#39; which is simply shifting the 2020 result to the right \u003Ca href=\"https:\/\/t.co\/Mbe3pg7NFB\"\u003Epic.twitter.com\/Mbe3pg7NFB\u003C\/a\u003E\u003C\/p\u003E&mdash; Nate Cohn (@Nate_Cohn) \u003Ca href=\"https:\/\/twitter.com\/Nate_Cohn\/status\/1455693099062153217?ref_src=twsrc%5Etfw\"\u003ENovember 3, 2021\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-83781").innerHTML = tweet["html"];</script><p></p>
<p></p><div id="tweet-75300"></div><script>tweet={"url":"https:\/\/twitter.com\/Nate_Cohn\/status\/1455717564772986884","author_name":"Nate Cohn","author_url":"https:\/\/twitter.com\/Nate_Cohn","html":"\u003Cblockquote class=\"twitter-tweet\" align=\"center\"\u003E\u003Cp lang=\"en\" dir=\"ltr\"\u003EAnd btw, if you&#39;re doing pundit things I&#39;d look at that red column. McAuliffe fell short of expectations--a more-or-less uniform shift--by basically the same amount, just about everywhere\u003C\/p\u003E&mdash; Nate Cohn (@Nate_Cohn) \u003Ca href=\"https:\/\/twitter.com\/Nate_Cohn\/status\/1455717564772986884?ref_src=twsrc%5Etfw\"\u003ENovember 3, 2021\u003C\/a\u003E\u003C\/blockquote\u003E\n\u003Cscript async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"\u003E\u003C\/script\u003E\n","width":550,"height":null,"type":"rich","cache_age":"3153600000","provider_name":"Twitter","provider_url":"https:\/\/twitter.com","version":"1.0"};document.getElementById("tweet-75300").innerHTML = tweet["html"];</script><p></p>
<p>This won’t stop the networks from ascribing the win/loss to very specific campaign issues (I’ve already seen quite a few folks ascribe Youngkin’s win to education, race, suburban-reversion, etc., without any evidence to back up such claims). Until there are deep dives into data regarding the election, I’d treat any comments from pundits with a hefty grain of salt.</p>
<section id="some-closing-thoughts" class="level3">
<h3 class="anchored" data-anchor-id="some-closing-thoughts">Some closing thoughts</h3>
<p>That’s all for me today! I’ll be back in a few weeks with some non-political content, looking at a machine learning model predicting the price of a diamond in the <a href="https://ggplot2.tidyverse.org/reference/diamonds.html">diamonds dataset</a>.</p>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{rieke2021,
  author = {Mark Rieke},
  title = {Election {Night:} {Some} {Closing} {Thoughts} on the {VA}
    {Governor} {Race}},
  date = {2021-11-02},
  url = {https://www.thedatadiary.net/posts/2021-11-02-election-night-some-closing-thoughts-on-the-va-governor-race},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-rieke2021" class="csl-entry quarto-appendix-citeas" role="doc-biblioentry">
Mark Rieke. 2021. <span>“Election Night: Some Closing Thoughts on the VA
Governor Race.”</span> November 2, 2021. <a href="https://www.thedatadiary.net/posts/2021-11-02-election-night-some-closing-thoughts-on-the-va-governor-race">https://www.thedatadiary.net/posts/2021-11-02-election-night-some-closing-thoughts-on-the-va-governor-race</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left"> Mark Rieke, 2023<br> All content licensed under <a href="https://github.com/markjrieke/thedatadiary.net/blob/master/LICENSE">MIT License</a><br> Made with and <a href="https://quarto.org">Quarto</a></div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/markjrieke">
      <i class="bi bi-github" role="img" aria-label="github">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/markjrieke">
      <i class="bi bi-twitter" role="img" aria-label="twitter">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/markjrieke/">
      <i class="bi bi-linkedin" role="img" aria-label="linkedin">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



<script src="https://platform.twitter.com/widgets.js"></script>
</body></html>